# 구글은 소프트웨어를 어떻게 테스트하는가 요약 정리

# 1장 구글 소프트웨어 테스팅 개요

- 생산성 혁신팀의 주 업무
  1. 개발자와 테스터의 툴 체인 수행
  2. 단위 테스팅부터 탐색적 테스팅과 관련된 공학적 방법 적용
  3. 모든 웹 특성과 관련된 공용 툴과 테스트 인프라스트럭처 구축

- 소형 테스트 (코드가 제대로 작동하는가)
  1. 적은 양의 코드를 test, 실무에서는 대부분 자동화 테스트로 수행되며 단일함수 or 모듈의 코드를 test한다. (mock, fake 개채 필요)
  
  
- 중형 테스트 (상호작용이 잘되고 있는가)
  1. 일반적으로 자동화 테스트로 수행되며 두번 이상의 인터랙션 기능을 포함한다.
  2. 기능간 상호작용 or 상호 호출 테스트 진행
  3. SET(software test development engineer)는 개발 초기에 중형 테스트를 하나의 개별 기능으로 넣어 완료 되게 한다.
  4. SWE(software development engineer)는 실제 테스트를 작성하고, 디버깅하고, 관리한다.
  5. TE(test engineer)는 자동화가 어렵거나 비용(cost)가 많이 들 때 수동으로 수행한다.
 
 
- 대형 테스트 (제품이 사용자가 기대한대로 동작하며 원하는 결과를 내놓나)
  1. 3개 이상의 기능과 실제 사용자 시나리오와 데이터 소스를 다루며 몇 시간 이상 수행
  2. 결과 주도적이며 사용자 요구 사항을 만족키시는지 확인
  3. 자동화 -> 탐색적테스트 까지 모든
 
* 테스트는 개발 프로세스 그 자체로서의 부분으로 자리잡아야 함
* 품질 =/ 테스트 , 품질 = 개발 + 테스트
* 구글에서는 개발채널 -> 테스트 채널 -> 베타 채널 or 릴리스 채널로 서버 구분
* 테스트 명칭을 일반적으로 사용하는 "코드 -> 통합 -> 시스템" 대신 "소형 -> 중형 -> 대형"으로 지칭

- 앱의 종류
  1. 네이티브 앱 : 디바이스 엑세스 가능, PC 접근 불가능 ex) 올리브영 app
  2. 하이브리드 앱 : 네이티브 앱에 웹 뷰를 보여주어 웹 앱을 실행 ex) 네이버, 다음, 구글
  3. 모바일 웹 : 브라우저로 URL을 이용 디바이스 엑세스 불가능
  4. 웹 앱 : 모바일에 중점을 두고 개발(모바일 웹 + 네이티브앱), pc와 모바일 등의 기기 상관없이 똑같이 보임
 
 * 구글의 차세대 테스트 엔지니어링 틀의 설계 방향 : '사람이 인지할 수 있는 최대 범위' 안에서 최대한 자동화


# 2장 테스트 소프트웨어 엔지니어
 - 완벽한 개발 프로세스는 한 명은 constructive, 한 명은 destructive한 과정을 거쳐야 한다.
 - 테스트 세계의 유토피아 구조
![image](https://user-images.githubusercontent.com/100422583/160282119-ed42f62e-c377-4b94-8d9a-d543b6ccb718.png)
 
 - SWE는 제품의 지엽적이고 부분적인 내용을 최적화 해야한다.
 - SET는 제품 전체에 대한 관점을 이해 해야한다.
 
 - 구글에서 추천하는 리뷰가이드
   1. 완전성(completeness)
   2. 정확성(correctness)
   3. 일관성(consistency)
   4. 설계(design)
   5. 인터페이스와 프로토콜(interfaces and protocol)
   6. 테스팅(testing)
  
 - 자동화 계획
  자동화 계획은 초기에 진행해야 하며, 모든 부분을 자동화하는 것은 효율이 떨어진다.
  
 - 테스트 종류
   1. 소형 테스트 : 외부의존성이 없는 단일 테스트 = 단위 테스트
   2. 중현 테스트 : 애플리케이션 모듈과의 상호작용을 검증 = 통합 테스트
   3. 대형 테스트 : 전체적인 애플리케이션을 검증 = 시스템 테스트

 - 테스트 비율은 유동적이나, 보통 소/중/대 순서로 70%/20%/10% 비율로 시행 된다.
 - 구글에서는 테스트 인증 레벨을 적용하여 테스트를 장려한다.
   1. 테스트 인증 레벨1 부터 5까지 있으며 점차 커버리지를 높이는 방법을 적용한다.
   2. 테스트 인증 레벨1은 누구나 인증 레벨에 접근하기 위하여, 낮은 허들을 가지고 있다. (조건 : 테스트 커버리지 번들 구축)
 
 - 스모크 테스트 : 테스팅전에 기본적인 기능이 되는지 확인
 - 비결정적 테스트 : 동일한 입력이어도 매번 다른 과정을 거치는 요소에 대한 테스팅
 
 - SET 면접에 대한 내용
   1. 코딩과 품질에 대해 어떻게 생각하는지, 해결책을 어떻게 생각했는지에 초점을 둔다.
   2. best case : 확장성을 생각하는지, 불변인자에 기반을 둔 최적화를 고려하는지, 안전성을 고려하는 지원자
  
 - 셀레니엄(Selenium) 과 웹드라이버(Web driver)
   1. 셀레니엄은 자바스크립트상에서 만들어져서, 파일 업로드라든지 사용자와의 상호작용을 잘 다루지 못함
   2. 웹드라이버는 브라우저내에서 만들어져 제약 사항 회피가 가능하나, 새로운 브라우저에서는 사용이 어려움
   3. 셀레니엄과 웹드라이버의 장점이 합쳐진게 '셀레니엄 웹드라이버'

# 3장 테스트 엔지니어
 TE는 SWE와 SET가 수행한 많은 산출물을 바탕으로 아래와 추가적인 업무를 진행한다.
  - 소프트웨어의 취약점은 무엇인가?
  - 고려해야할 품질 요소에는 어떠한 것들이 있나?
  - 사용자 시나리오가 기대대로 작동하는가?
  - 해외사용자에게도 잘 동작하는가?
  - 다른 SW/HW 와도 정상적으로 상호 운용 하는가?
  - 문제 발생시, 원인에 대한 분석이 잘 이루어 지는가?
  - 궁극적으로 좋지 않은 설계, 혼란스런 UX, 기능 버그, 보안과 개인정보 문제등을 개선한다.
 
 일반적으로 TE는 아래와 같은 업무를 수행한다.
  - 테스트 계획 및 위험분석
  - 스펙, 설계, 코드, 기존 테스트의 검토
  - 탐색적 테스팅
  - 사용자 시나리오
  - TC 생성 및 수행
  - 크라우드 소싱
  - 사용 측정 기준 수립
  - 사용자 피드백
  
  ACC(Attribute, Component, Capability)
   - 테스트를 직접적으로 이끌어내지 못하는 테스트 계획은 무용지물이다. 그러므로 ACC는 제품의 목적과 목표, 여러 부분과 기능, 수행 하는 것들을 지칭한다.(ACC의 핵심요소)
   
   - Attribute : 시스템의 목적과 목표를 설명하는 형용사이며, 아래와 같은 가이드를 따른다.
     1. 단순함을 유지
     2. 정확성을 유지
     3. 계속 움직여라
     4. 짧게 유지하라
     5. 또한, 내가 해당 시스템의 업무 담당자라면 몇분 안에 Attribute 리스트를 만들어 낼 수 있을만큼 시스템에 대한 이해도가 높아야한다.
  
   - Component : 시스템의 여러 부분과 기능을 일컫는 명사. Attribute와 마찬가지로 몇분 안에 리스트를 만들어 내야 한다.
   
   - Capability : 시스템이 실제로 수행하는 것을 지칭하는 동사이며, Atrribute 와 Component의 교차점이다. 또한, Capability의 가장 중요한 관점은 테스트 가능하다는 점이다.
     1. Action에 대해 작성돼야 한다.
     2. Capability들은 추상화돼야 하는 것들이다.
     3. 다른 Capability와 함께 구성돼야 한다.
    
   - Capability를 Tc(Test case)로 변경하는 일반적인 가이드
     1. 모든 Capability는 최소한 하나의 TC에 연결돼야 한다.
     2. 많은 Capability는 하나 이상의 TC를 필요로 한다.

   - ACC를 담당 서비스에 적용해 TC 작성을 하는것도 좋은 방법이 될거 같다.

ACC가 작성된 후에 리스크 분석을 통해 테스팅 우선순위를 정리한다. 아래의 내용들은 위험을 이해하는데 도움을 주는 내용들이다.
  
 - 리스크 분석 가이드 내용
   1. 주시하는 사건은 무엇인가?
   2. 발생 가능성은 얼마나 되는가?
   3. 기업에게 얼마나 좋지 않은 영향(impact)를 끼치는가?
   4. 고객에게 얼마나 좋지 않은 영향(impact)를 끼치는가?
   5. 실패 처리 비용은 얼마나 되는가?
   6. 회복하기 얼마나 어려운가?
   7. 자주 발생 하는가 or 한 번만 발생하는가? (발생빈도)
 
- 구글에서는 리스크를 발생빈도와 영향으로 분류하고 각 요소는 4개의 값을 가지고있다. 

- 리스크 완화 가이드 내용
  1. 리스크가 있는 사용자 스토리는 위험이 적은 경로로 정의, 개발에 적용한다.
  2. 회귀 테스트 케이스를 작성하고 테스팅 한다.
  3. 복구 or 대체 기능이 필요하다는 것을 보여줄 테스트를 작성한다.
  4. 오류를 조기에 발견할 instrumentation and watch dog 코드를 추가한다.
  5. 버그가 제거된 소프트웨어 버전에 대한 동작 변경을 알려줄 instrumentation을 추가한다.
   * instrumentation : 테스트, 디버깅, 성능 측정 들을 위해 원본코드나 바이너리에 추가적인 코드나 바이너리를 인위적으로 삽입
  
제임스 휘태커의 10분 테스트 계획 (생산성과 관련된 프로세스로 참고하기 좋다)
 - 30분 안에 80%를 완료하는 것을 목표로 테스트 실무자들에게 10분내로 테스트 계획을 작성하라고 지시한다.
   
 - 리스크 관리에 도움이 되는 가이드 라인
  1. 모든 고위험 Capability에 대해 user story, use case or test guide를 작성하라.
  2. 지난 테스팅을 회고하며, 개선사항 및 누락사항을 확인하라.
  3. 고위험 Component의 모든 bugs는 회귀 테스트를 진행한다.
  4. 고위험 영역에 대해 심도있게 생각,복구,회복 메커니즘에 대해 대비해라.
  5. 많은 이해관계자들을 참여시켜라
  6. 고위험 컴포넌트들에 대한 테스트가 여전히 실패한다면 삭제하도록 노력해라.
  
 TE 채용
 - 구글에서 TE는 기술적이고, 사용자 입장을 고려하고, 제품을 체계적으로 최종 사용자의 관점에서 이해하고, 창의적이며, 애매모호한 것을 처리 가능한 인재를 원한다
 
 SET 와 TE에 적합한 특성을 아래와 같이 나열해 주었는데 참고하면 좋을듯 하다
 
 - SET 조건
  1. 몀세서와 화이트보드를 다룰 수 있으며, 명확하고 효율적인 솔루션을 코드로 작성한다.
  2. 단위테스트를 작성하고, 테스트 코드를 만들고 검증하는 방법을 강구한다.
  3. 최종사용자는 API를 호출하는 누군가라고 생각한다.
  4. API 문서를 중요시 여긴다
  5. 코드의 최적화 or race condition 탐지에 집중한다.
  6. IRC or 체크인 코멘트로 의사소통을 선호한다.
  7. GUI보다는 CL을 선호
  8. CPU 사이클과 네트워크 패킷이 최적화되는 것을 중요시 여긴다.
  9. 테스트 요청시, 소스코드를 열고 mocking에 집중한다.
  10. 단위 테스트 프레임워크를 만들어 배포한다.

 - TE 조건
  1. 에러 발견시, 즉각적으로 코딩하거나 변경사항을 만드는데 집중하지 않는다.
  2. 다른 사람들의 코드를 보기 좋아한다.
  3. 어설픈 제품 스펙을 보면 제품과 스펙 사이의 결함을 보완하려고 한다.
  4. UI에 흥미가 있다
  5. 데이터 시각화에 흥미가 있다.
  6. 실제 세상 사람들과 이야기하는것을 선호한다.
  7. 리더십이랑 다른 기술자의 아이디어를 배양시키는 것이고, 넓은 안목을 갖고 아이디어에 도전한다.
  
  
